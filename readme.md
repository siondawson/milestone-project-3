# Milestone Project 3 - Live Music Cardiff

## Purpose

This website was created for Code Institue's Milestone Project 3 assignment. The Purpose of the project is to demonstrate an understanding of working with a database where users are able to Create, Read, Update and Delete data entirely within the website. A full list of technologies used can be found in the technologies section of this readme.

## Live Music Cardiff Responsive Website

This project is a website where users are able to view advertisements for which they, or other users have created. Users will have to login to add events to the website. Users will not need to log in to view events. Users who have created events will need to login in order to edit or delete events they have created. Once logged in users will only be able to edit or delete events which belong to them.

# User Experience Design 

## User Stories

### As a first time user, I want:

    1. To be able to easily understand the purpose of the site
    2. To be able to view events that have allready been added by other users
    3. To be able to create an account and list my own event
    4. To be able to edit or delete the events I create

### As a returning user, I want:

    1. To be able to see if any new events have been added.
    2. To be able to edit or delete events which I have added.
    3. To be able to add new events.
    4. To see all of the events which I have added. 
   
### As a frequent user, I want:

    1. For other users not to be able to edit or delete my events.
    2. To add new events
    3. To edit my events
    4. To see what new events have been added by other users. 


# Structure

## Bootstrap

Bootstrap 5 was used to structure the website. As this site is data driven the minimum about of elements were put in place first. This way any elements added to increase visual appeal only service the websites core CRUD functionality.

## Base.html

A base html template was used to create the navbar (header) and footer of the website. This is to ensure that the navbar and footer remain consistent in design as the user moves through thr website. 

### Nav Bar

In the nav bar an if/else statement was used to control which nav elements a user can see dependant on weather they are logged in or not. 

### Footer

A simple call to action button with a if/else statement controlling what a user sees dependant on if they are logged in. If the user is not logged in, a button promping them to create an account is visible. If they are a button promping them to add an event is visible.

## Home Page

Simple landing page with image of one of Cardiffs premier venues. Text explaining purpose of website with button prompt for user to view all events. Log in not required.

## Signup Page

A form where users are able to create their account. First name, email address and password. The password field appears twice to ensure user types password correctly. Checks in place to ensure email address is valid and not allready in use by another user account.

## My Events Page (user events)

After signing in the user will be redirected to this page. This page displays all events which the user had created, along with opeion to edit or delete each event. Clicking delete calls a modal where the user is asked to confirm event deletion. Clicking edit on any event will take the user to the edit event page. If the user has not created an event they are prompted to create their first event. Login is required to view this page.

## Add Event Page

A form where users can add the relevant information for their event. Once submit is clicked the event is added to the database and will appear publically for all users to see (signed in and not signed in). The user will then be redirected to the 'My Events' page where event they created will be displayed.

## Edit event Page 

Accessible from the users 'my events' page. When the user clicks edit they are taken to this page where a similar form to the 'add event' page will be pre populated with full information from the event that they have allready supplied ready for editing. 

## All Events Page

Accessible with or without loggin in. This page displays all upcoming events in chronologial order on a series of cards generated by a jinja for loop. Once an event has passed it is no longer displayed on this page, but not deleted from the database. The user may click link provided on each card to view full info for each event individually. 

## Event Page

Accessible with or without logging in. This page displays all information available from the database for the event which the user has selected on the 'All Events' page. 

# Design

This projects purpose is to demonstrate ability to work with a database and perform CRUD functionality. Therefore overall design has been kept fairly simple with the goal of facilitating CRUD functionality without complicating visual features. 

## Appearence

### Images

Only a single image of a well known important Cardiff venue is used. 

#CRUD - Create, Read, Update, Delete

## Database Schema

***Database diagram goes here***

A straighforward database schema. of USER and EVENT. The user id appears in the EVENT table as a FOREIGN KEY. The database has been designed this way for comparing of current user id to the user_id of each event. In the early stages of the project design that users must not be able to update or delete events which they have created. 

### Create Functionality

Data is captured via the use of forms. Standard bootsrap forms suited this purpose with layout modifed for intended purpose.

### Read Functionality 

Data is read from the database in two ways.

1. Cards. Bootstrap cards were used to present data at a glance for:
    1. All Events: Where a user logged in or not can view shorthand information for every event listed including title, venue, date and time.
    2. User Events: Where logged in users can view events that they have created in a manner similar to above. With added options for them to edit or delete the event.
2. Event Page. Accessible via a link on each event on the 'All Events'. All available information is displayed on a single page for the spesific event user the has selected.

### Update functionality 

Similar use of forms to 'Create 'Functionality'. Accessed via link in cards on the 'User Events' page. The 'Create Event' Form was duplicated and repurposed for update functionality. Existing event data is pre populated into the form ready for the user to edit. 

### Delete functionality

Accessed via link in cards on the 'User Events' page. Defensive programming first opens a bootstrap modal on clicking 'delete'. User is warned that confriming deletion will pernamently delete the event. 

# Technologies Used

* HTML
  * HTML was used to complete the structure of the website
* CSS
  * CSS was used for custom styling on the website
* Python
  * This website is a python package. Python is used to render the website and pass data between the database (back-end) and the front-end.
* Flask
  * Flask was used..
* SQL Alchemy
  * Used for database management
* Elephant SQL
  * Free plan (Tiny Turtle) used to host database on deployed version.
* Heroku
  * Used for deployment of live site.
* Jquery
  * Used primarily for datepicker and timepicker. 
* Techsini
  * Used to create apple device mockup for readme.
* Fontawesome
  * Used for calendar icons and info icons on homepage.
* Google fonts
  * Used for project font styling.

# Testing

This project is a fully interactive website where users can:

1. View events (with or without logging in)
2. Create an account
3. Create events 
4. Edit events
5. Delete Events

Testing will be performed on:

1. The websites visual appearence accross all screen sizes.
2. CRUD functionality.
3. Login/ Logout/ Signup Functionality

# Test Users

These Test users were created on the live site and may be logged into for testing.

test@email.com, password: sun3451, first name: Sion
test@test.com, password: 1234567, first name: Tester1 

Feel free to use these test accounts or create your own account. 

## Code Validator testing

HTML ran through validator with no errors found.

CSS ran through validator with no errors found.

Validator screen shots can be found here. 

## Issues found during testing 

1. Datepicker formatting not working on deployed website, but working when ran locally.
2. Issues with updating time field.
   1. Time data not being read by timepicker on loading update event page.
   2. Time format causing DataError 

# Deployment 

This project was created using the code institute template.

## Version Control

This project was created using Visual Studio Code editor and pushed to 'milestone-project-3', a remote repository in github.

Throughout the project these commands were used to save work and push changes to github via the command line terminal.

1. Type: git add .
    * This command adds files to the staging area before committing.
2. Type: git commit -m "a message goes in here explaining what chanes were made"
   * This command commits changes to the local repository
3. Type: git push
    * This command commits all changes to the remote GitHub repository.

## Clone the repository to your machine

Navigate to the github repository

1. Click on the code drop down button.
2. Click HTTPS
3. Copy repository link
4. Open your IDE (git must be installed)
5. Type git clone (copied git url) into the terminal.
6. The project will now have been cloned on your machine.


## Heroku

This project is deployed via Heroku. Heroku is connected to this projects github repository. With every push the deployed Heroku app is updated.

## Database (Elephant SQL)

The deployed website is connected to a database hosted by Elephant SQL.

### Project deployed via Heroku with the following steps.

1. Open command line terminal and type command: pip freeze --local > requirements.txt. This creates a requirements.txt file in the root directory of the repository.
2. Create Procfile. 
   1. Create new file in root directory.
   2. Name it "Procfile"
   3. Enter following command in the file: "web: python3 app.py"
3. Commit new files to github
4. Navigate to Heroku
5. Click create new app
6. Name the app (live-music-cardiff)
7. Enter confirg vars:
   1. DATABASE_URL : (ElephantSQL URL)
   2. IP: "0.0.0.0"
   3. PORT: "5000"
   4. SECRET_KEY: 
8. Navigate to Heroku deploy tab
9. Click connect to github
   1. Search for correct repository
   2. Connect
10. Click Deploy
11. Add tables to database
    1. Click 'more'
    2. Run console
    3. Type command: python3
    4. type command: from live_music_cardiff import db
    5. type command db.create_all()
    6. type command: exit()
12. Process complete

## Credits 

The code content of this software was createe by Sion Dawson

## Media 

One image was used on the home page. The source can be found [here](https://pixabay.com/photos/mermaid-quay-wales-cardiff-bay-89121/)

## Acknowledgement

Thankyou to my tutor Daisy McGirr for her help and guidance in this project. Thanks also to my wife Samantha (code institute alumni) for helping me overcome problems and discussing ideas.

  

